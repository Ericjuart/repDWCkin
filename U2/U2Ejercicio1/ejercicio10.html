<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <script type="text/javascript">
    function Persona(nom,ape,tel,edad){
      this.nombre=nom||"Anonymus";
      this.apellidos=ape;
      this.telefono=tel;
      this.edad=Math.floor( Math.random() * (100-1)+1);;
      this.saludar = function(){
        console.log ("Hola me llamo "+this.nombre+" "+this.apellidos);
      }
      this.cumplirAnyo=function(){
        this.edad+=1;
      }
    }
    function Estudiante(nom,ape,tel,edad,stu,nM,pass){
      Persona.call(this,nom,ape,tel,edad);
      this.estudios=stu;
      this.notaM=prompt("Introduce tu nota media: ");
      var nM=parseFloat(this.notaM);
      this.notaM= nM.toFixed(2);
      this.Recuperar=function(){
        if(this.notaM<5){
          this.notaM=5;
        }
      }
    }
    Estudiante.prototype.password="";
    Estudiante.prototype.crearPassword= function(){
      var nom = this.nombre;
      var nomMay = nom.toUpperCase();
      var letraPass = nomMay.charAt(0);
      var ape=this.apellidos;
      var apeSplit = ape.split(" ");
      var apeMin = apeSplit[0].toLowerCase();

      for (var i = 0; i < apeMin.length; i++) {
        if(apeMin.search("e") >=0 || apeMin.search("a") >=0){
          var rep3e= apeMin.replace("e","3");
          var rep4a = rep3e.replace("a","4");
        }
      }
      var nLetras = this.nombre.length;
      var con = letraPass.concat(rep4a);
      var conTodo = con.concat(nLetras);
      this.password=conTodo;
    }



    var lista= new Array(3);
    lista[0] = new Estudiante("","Martinez Juanola","678051217","","ingles","","");
    lista[1] = new Estudiante("Maria","Sanchez Artero","693402383","","matematicas","");
    lista[2] = new Estudiante("Luis","Garcia Robles","678051217","","matematicas","");



    </script>
  </body>
</html>
