<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Ejercicio 1 y 2 Ajax</title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        if (window.XMLHttpRequest) {
          var xhr = new XMLHttpRequest();
        }else if (ActiveXObject("Microsoft.XMLHTTP")) {
          var xhr = new ActiveXObject("Microsoft.XMLHTTP");
        }

         var alt = Math.floor((Math.random()*4)+1);
         var url = "noticia"+alt+".txt";
         $.get(url,function(){
           if (xhr.readyState == 4 && xhr.status==200) {
              noticia.innerHTML = xhr.responseText;
             }else if(xhr.status!=200){
               alert(xhr.statusText);
             }
             // ejercicio 2
             $("#peticion").html("<b>estado en el que se encuentra la peticion:</b> "+xhr.readyState); // a)estado en el que se encuentra la peticion
             $("#cabeceras").html("<b>contenido de las cabeceras de la respuesta del servidor:</b> "+xhr.getAllResponseHeaders()); // b) contenido de las cabeceras de la respuesta del servidor
             $("#codigoEst").html("<b>codigo y texto del estado de la respuesta del servidor:</b> "+xhr.statusText); // c) mostrar codigo y texto del estado de la respuesta del servidor

         })

      });
    </script>
    <style media="screen">
      h1{
      text-align: center;
      }
      #noticia{
        font-weight: bold;
        border: 1px solid red;
        text-align: center;
        padding: 5px;
      }
      div{
        margin: 10px;
      }
    </style>
  </head>
  <body>
    <h1>Noticias</h1>
    <p id="noticia"></p>
    <div id="peticion"></div>
    <div id="cabeceras"></div>
    <div id="codigoEst"></div>
  </body>
</html>
